{"ast":null,"code":"import * as actionTypes from './actions';\nconst initialState = {\n  availableFlights: [{\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 800\n  }, {\n    carrier: \"AM\",\n    dCity: \"CHI\",\n    aCity: \"DEN\",\n    date: \"1/5\",\n    price: 900\n  }, {\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 700\n  }, {\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 600\n  }, {\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 1200\n  }, {\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 800\n  }, {\n    carrier: \"AM\",\n    dCity: \"CHI\",\n    aCity: \"DEN\",\n    date: \"1/5\",\n    price: 900\n  }, {\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 700\n  }, {\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 600\n  }, {\n    carrier: \"SW\",\n    dCity: \"LA\",\n    aCity: \"Lihue\",\n    date: \"1/1\",\n    price: 1200\n  }],\n  selectedFlight: null,\n  options: {\n    passengers: 1,\n    bags: 0,\n    carryOn: 0,\n    class: \"coach\"\n  },\n  classPriceAdded: false,\n  totalPrice: 0,\n  bookedFlights: [],\n  intermediateDelVal: null\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    /*case actionTypes.INIT_FLIGHTS:\n        const avFlights = [];\n        action.flights.map((ob, i) => {\n            return avFlights[i] = ob;\n        })\n        return {\n            ...state,\n            availableFligts: avFlights\n        }*/\n    case actionTypes.ADD_FLIGHT:\n      const addFlight = {\n        carrier: action.flightData.carrier,\n        dCity: action.flightData.dCity,\n        aCity: action.flightData.aCity,\n        date: action.flightData.date,\n        price: action.flightData.price\n      };\n      return { ...state,\n        selectedFlight: addFlight,\n        totalPrice: action.flightData.price\n      };\n\n    case actionTypes.REMOVE_FLIGHT:\n      return { ...state,\n        selectedFlight: null,\n        options: {\n          passengers: 1,\n          bags: 0,\n          carryOn: 0,\n          class: \"Coach\"\n        },\n        classPriceAdded: false,\n        totalPrice: 0\n      };\n\n    case actionTypes.PASSENGER_INCREMENT:\n      let val = Object.values(state.options);\n      val[0] += 1;\n      let flightPrice = state.totalPrice;\n      flightPrice = flightPrice + state.selectedFlight.price;\n      return { ...state,\n        options: {\n          passengers: val[0],\n          bags: val[1],\n          carryOn: val[2],\n          class: val[3]\n        },\n        totalPrice: flightPrice\n      };\n\n    case actionTypes.PASSENGER_DECREMENT:\n      let values = Object.values(state.options);\n\n      if (values[0] > 0) {\n        values[0] -= 1;\n      }\n\n      let flightPrice2 = state.totalPrice;\n      flightPrice2 -= state.selectedFlight.price;\n      return { ...state,\n        options: {\n          passengers: values[0],\n          bags: values[1],\n          carryOn: values[2],\n          class: values[3]\n        },\n        totalPrice: flightPrice2\n      };\n\n    case actionTypes.BAG_INCREMENT:\n      let v = Object.values(state.options);\n      v[1] += 1;\n      return { ...state,\n        options: {\n          passengers: v[0],\n          bags: v[1],\n          carryOn: v[2],\n          class: v[3]\n        },\n        totalPrice: state.totalPrice + 50\n      };\n\n    case actionTypes.BAG_DECREMENT:\n      let va = Object.values(state.options);\n\n      if (va[1] > 0) {\n        va[1] -= 1;\n      }\n\n      return { ...state,\n        options: {\n          passengers: va[0],\n          bags: va[1],\n          carryOn: va[2],\n          class: va[3]\n        },\n        totalPrice: state.totalPrice - 50\n      };\n\n    case actionTypes.CARRYON_INCREMENT:\n      let valu = Object.values(state.options);\n      valu[2] += 1;\n      return { ...state,\n        options: {\n          passengers: valu[0],\n          bags: valu[1],\n          carryOn: valu[2],\n          class: valu[3]\n        },\n        totalPrice: state.totalPrice + 30\n      };\n\n    case actionTypes.CARRYON_DECREMENT:\n      let value2 = Object.values(state.options);\n\n      if (value2[2] > 0) {\n        value2[2] -= 1;\n      }\n\n      return { ...state,\n        options: {\n          passengers: value2[0],\n          bags: value2[1],\n          carryOn: value2[2],\n          class: value2[3]\n        },\n        totalPrice: state.totalPrice - 30\n      };\n\n    case actionTypes.SET_CLASS:\n      let value3 = Object.values(state.options);\n      let classPrice = 0;\n\n      if (!state.classPriceAdded) {\n        if (action.val === \"First\") {\n          classPrice = 200;\n        } else if (action.val === \"Second\") {\n          classPrice = 100;\n        }\n      } else {\n        let currentSelection = action.val;\n\n        if (currentSelection === 'Coach') {\n          if (state.options.class === \"Second\") {\n            classPrice -= 100;\n          } else {\n            classPrice -= 200;\n          }\n        }\n\n        if (currentSelection === 'Second') {\n          if (state.options.class === \"Coach\") {\n            classPrice += 100;\n          } else {\n            classPrice -= 100;\n          }\n        }\n\n        if (currentSelection === 'First') {\n          if (state.options.class === \"Coach\") {\n            classPrice += 200;\n          } else {\n            classPrice += 100;\n          }\n        }\n      }\n\n      return { ...state,\n        options: {\n          passengers: value3[0],\n          bags: value3[1],\n          carryOn: value3[2],\n          class: action.val\n        },\n        classPriceAdded: true,\n        totalPrice: state.totalPrice + classPrice\n      };\n\n    case actionTypes.UPDATE_PRICE:\n      let tPrice = state.totalPrice;\n      tPrice += action.value;\n      return { ...state,\n        totalPrice: tPrice\n      };\n\n    case actionTypes.BOOK_FLIGHT:\n      const newFlight = {\n        carrier: action.flightData.carrier,\n        dCity: action.flightData.dCity,\n        aCity: action.flightData.aCity,\n        date: action.flightData.date,\n        passengers: action.flightData.passengers,\n        bags: action.flightData.bags,\n        carryOn: action.flightData.carryOn,\n        class: action.flightData.class,\n        totalPrice: action.flightData.totalPrice,\n        id: Math.random()\n      };\n      return { ...state,\n        selectedFlight: null,\n        options: {\n          passengers: 1,\n          bags: 0,\n          carryOn: 0,\n          class: \"coach\"\n        },\n        classPriceAdded: false,\n        totalPrice: 0,\n        bookedFlights: state.bookedFlights.concat(newFlight)\n      };\n\n    case actionTypes.REMOVE_BOOKED_FLIGHT:\n      return { ...state,\n        bookedFlights: state.bookedFlights.filter(flight => flight.id !== action.removeId)\n      };\n\n    case actionTypes.STORE_INTER_DEL_VAL:\n      console.log(action.removeId);\n      return { ...state,\n        intermediateDelVal: action.removeId\n      };\n  }\n\n  return state;\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/alexforest/Desktop/flight-booker/src/store/reducer.js"],"names":["actionTypes","initialState","availableFlights","carrier","dCity","aCity","date","price","selectedFlight","options","passengers","bags","carryOn","class","classPriceAdded","totalPrice","bookedFlights","intermediateDelVal","reducer","state","action","type","ADD_FLIGHT","addFlight","flightData","REMOVE_FLIGHT","PASSENGER_INCREMENT","val","Object","values","flightPrice","PASSENGER_DECREMENT","flightPrice2","BAG_INCREMENT","v","BAG_DECREMENT","va","CARRYON_INCREMENT","valu","CARRYON_DECREMENT","value2","SET_CLASS","value3","classPrice","currentSelection","UPDATE_PRICE","tPrice","value","BOOK_FLIGHT","newFlight","id","Math","random","concat","REMOVE_BOOKED_FLIGHT","filter","flight","removeId","STORE_INTER_DEL_VAL","console","log"],"mappings":"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","sourcesContent":["import * as actionTypes from './actions';\n\nconst initialState = {\n    availableFlights: [\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 800},\n        {carrier: \"AM\", dCity: \"CHI\", aCity: \"DEN\", date: \"1/5\", price: 900},\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 700},\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 600},\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 1200},\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 800},\n        {carrier: \"AM\", dCity: \"CHI\", aCity: \"DEN\", date: \"1/5\", price: 900},\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 700},\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 600},\n        {carrier: \"SW\", dCity: \"LA\", aCity: \"Lihue\", date: \"1/1\", price: 1200}\n      ],\n    selectedFlight: null,\n    options: {passengers: 1, bags: 0, carryOn: 0, class: \"coach\"},\n    classPriceAdded: false,\n    totalPrice: 0,\n    bookedFlights: [],\n    intermediateDelVal: null\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        /*case actionTypes.INIT_FLIGHTS:\n            const avFlights = [];\n            action.flights.map((ob, i) => {\n                return avFlights[i] = ob;\n            })\n            return {\n                ...state,\n                availableFligts: avFlights\n            }*/\n        case actionTypes.ADD_FLIGHT: \n            const addFlight = {\n                carrier: action.flightData.carrier,\n                dCity: action.flightData.dCity,\n                aCity: action.flightData.aCity,\n                date: action.flightData.date,\n                price: action.flightData.price\n            }\n            return {\n                ...state,\n                selectedFlight: addFlight,\n                totalPrice: action.flightData.price\n            }\n        case actionTypes.REMOVE_FLIGHT:\n            return {\n                ...state,\n                selectedFlight: null,\n                options: {passengers: 1, bags: 0, carryOn: 0, class: \"Coach\"},\n                classPriceAdded: false,\n                totalPrice: 0\n            }\n\n        case actionTypes.PASSENGER_INCREMENT:\n            let val = Object.values(state.options);\n            val[0] += 1;\n            let flightPrice = state.totalPrice;\n            flightPrice = flightPrice + state.selectedFlight.price;\n            return {\n                ...state,\n                options: {passengers: val[0], bags: val[1], carryOn: val[2], class: val[3]},\n                totalPrice: flightPrice\n            }\n        case actionTypes.PASSENGER_DECREMENT:\n            let values = Object.values(state.options);\n            if (values[0] > 0) {\n                values[0] -= 1;\n            }\n            let flightPrice2 = state.totalPrice;\n            flightPrice2 -= state.selectedFlight.price;\n            return {\n                ...state,\n                options: {passengers: values[0], bags: values[1], carryOn: values[2], class: values[3]},\n                totalPrice: flightPrice2\n            }\n\n        case actionTypes.BAG_INCREMENT:\n            let v = Object.values(state.options);\n            v[1] += 1;\n            return {\n                ...state,\n                options: {passengers: v[0], bags: v[1], carryOn: v[2], class: v[3]},\n                totalPrice: state.totalPrice + 50\n            }\n        case actionTypes.BAG_DECREMENT:\n            let va = Object.values(state.options);\n            if (va[1] > 0) {\n                va[1] -= 1;\n            }\n            return {\n                ...state,\n                options: {passengers: va[0], bags: va[1], carryOn: va[2], class: va[3]},\n                totalPrice: state.totalPrice - 50\n            }\n\n        case actionTypes.CARRYON_INCREMENT:\n            let valu = Object.values(state.options);\n            valu[2] += 1;\n            return {\n                ...state,\n                options: {passengers: valu[0], bags: valu[1], carryOn: valu[2], class: valu[3]},\n                totalPrice: state.totalPrice + 30\n            }\n        case actionTypes.CARRYON_DECREMENT:\n            let value2 = Object.values(state.options);\n            if (value2[2] > 0) {\n                value2[2] -= 1;\n            }\n            return {\n                ...state,\n                options: {passengers: value2[0], bags: value2[1], carryOn: value2[2], class: value2[3]},\n                totalPrice: state.totalPrice - 30\n            }\n        case actionTypes.SET_CLASS: \n            let value3 = Object.values(state.options);\n            let classPrice = 0;\n            if (!state.classPriceAdded) {\n                if (action.val === \"First\") {\n                    classPrice = 200;\n                } else if (action.val === \"Second\") {\n                    classPrice = 100;\n                }\n            } else {\n                let currentSelection = action.val;\n                if (currentSelection === 'Coach') {\n                    if (state.options.class === \"Second\") {\n                        classPrice -= 100;\n                    } else {\n                        classPrice -= 200;\n                    }\n                }\n                if (currentSelection === 'Second') {\n                    if (state.options.class === \"Coach\") {\n                        classPrice += 100;\n                    } else {\n                        classPrice -= 100;\n                    }\n                }\n                if (currentSelection === 'First') {\n                    if (state.options.class === \"Coach\") {\n                        classPrice += 200;\n                    } else {\n                        classPrice += 100;\n                    }\n                }\n            }\n            \n            return {\n                ...state,\n                options: {passengers: value3[0], bags: value3[1], carryOn: value3[2], class: action.val},\n                classPriceAdded: true,\n                totalPrice: state.totalPrice + classPrice\n            }\n        case actionTypes.UPDATE_PRICE:\n            let tPrice = state.totalPrice;\n            tPrice += action.value\n            return {\n                ...state,\n                totalPrice: tPrice\n            }\n        case actionTypes.BOOK_FLIGHT:\n            const newFlight = {\n                carrier: action.flightData.carrier, \n                dCity: action.flightData.dCity, \n                aCity: action.flightData.aCity, \n                date: action.flightData.date, \n                passengers: action.flightData.passengers,\n                bags: action.flightData.bags,\n                carryOn: action.flightData.carryOn,\n                class: action.flightData.class,\n                totalPrice: action.flightData.totalPrice,\n                id: Math.random()\n            }\n            return {\n                ...state,\n                selectedFlight: null,\n                options: {passengers: 1, bags: 0, carryOn: 0, class: \"coach\"},\n                classPriceAdded: false,\n                totalPrice: 0,\n                bookedFlights: state.bookedFlights.concat(newFlight)\n            }\n        case actionTypes.REMOVE_BOOKED_FLIGHT:\n            return {\n                ...state,\n                bookedFlights: state.bookedFlights.filter(flight => flight.id !== action.removeId)\n            }\n        case actionTypes.STORE_INTER_DEL_VAL:\n            console.log(action.removeId);\n            return {\n                ...state,\n                intermediateDelVal: action.removeId\n            }\n        \n    }\n    return state;\n}\n\nexport default reducer;\n\n"]},"metadata":{},"sourceType":"module"}