{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/alexforest/Desktop/FlightBooker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alexforest/Desktop/FlightBooker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alexforest/Desktop/FlightBooker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alexforest/Desktop/FlightBooker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./AvailableFlights.css';import{connect}from'react-redux';import Flight from'../Flight/Flight';import*as actionTypes from'../../store/actions';import axios from'axios';import refreshIcon from'../../assets/white-refresh.jpg';var AvailableFlights=/*#__PURE__*/function(_React$Component){_inherits(AvailableFlights,_React$Component);var _super=_createSuper(AvailableFlights);function AvailableFlights(){_classCallCheck(this,AvailableFlights);return _super.apply(this,arguments);}_createClass(AvailableFlights,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;axios.get('https://peaceful-hollows-15789.herokuapp.com/availableFlights').then(function(response){_this.props.onInitFlights(response);}).catch(function(err){console.log(err);});}},{key:\"refreshFlights\",value:function refreshFlights(){var _this2=this;axios.get('https://peaceful-hollows-15789.herokuapp.com/refreshFlights').then(function(response){_this2.props.onInitFlights(response);_this2.props.onRemoveFlight();}).catch(function(err){console.log(err);});}},{key:\"resetSelectedFlight\",value:function resetSelectedFlight(flight){var _this3=this;this.props.onRemoveFlight();setTimeout(function(){_this3.props.onSelectFlight(flight);},10);}},{key:\"render\",value:function render(){var _this4=this;var flights=\"\";if(this.props.avFlights!==null){flights=this.props.avFlights.map(function(flight,i){return/*#__PURE__*/_jsx(Flight,{carrier:flight.carrier,dCity:flight.dCity,aCity:flight.aCity,date:flight.date,price:flight.price,click:function click(){return _this4.resetSelectedFlight(flight);}},i);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"av-f-c\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Available Flights\"}),/*#__PURE__*/_jsx(\"button\",{className:\"new-flights-btn\",onClick:function onClick(){return _this4.refreshFlights();},children:\"Refresh Flights \\u27F3\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"category-desc\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Carrier\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Depature City\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Arrival City\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Price\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"AvFlightsContainer\",children:flights})]});}}]);return AvailableFlights;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{avFlights:state.availableFlights,selFlight:state.selectedFlight};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onInitFlights:function onInitFlights(flightData){return dispatch({type:actionTypes.INIT_FLIGHTS,flightData:flightData});},onSelectFlight:function onSelectFlight(flight){return dispatch({type:actionTypes.ADD_FLIGHT,flightData:{carrier:flight.carrier,dCity:flight.dCity,aCity:flight.aCity,date:flight.date,price:flight.price}});},onRemoveFlight:function onRemoveFlight(){return dispatch({type:actionTypes.REMOVE_FLIGHT});}};};export default connect(mapStateToProps,mapDispatchToProps)(AvailableFlights);","map":{"version":3,"sources":["/Users/alexforest/Desktop/FlightBooker/src/components/AvailableFlights/AvailableFlights.js"],"names":["React","connect","Flight","actionTypes","axios","refreshIcon","AvailableFlights","get","then","response","props","onInitFlights","catch","err","console","log","onRemoveFlight","flight","setTimeout","onSelectFlight","flights","avFlights","map","i","carrier","dCity","aCity","date","price","resetSelectedFlight","refreshFlights","Component","mapStateToProps","state","availableFlights","selFlight","selectedFlight","mapDispatchToProps","dispatch","flightData","type","INIT_FLIGHTS","ADD_FLIGHT","REMOVE_FLIGHT"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './AvailableFlights.css';\nimport { connect } from 'react-redux';\nimport Flight from '../Flight/Flight';\nimport * as actionTypes from '../../store/actions';\nimport axios from 'axios';\nimport refreshIcon from '../../assets/white-refresh.jpg';\n\nclass AvailableFlights extends React.Component {\n\n    componentDidMount() {\n        axios.get('https://peaceful-hollows-15789.herokuapp.com/availableFlights')\n        .then(response => {\n            this.props.onInitFlights(response);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    refreshFlights() {\n        axios.get('https://peaceful-hollows-15789.herokuapp.com/refreshFlights')\n        .then(response => {\n            this.props.onInitFlights(response);\n            this.props.onRemoveFlight();\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    resetSelectedFlight(flight) {\n        this.props.onRemoveFlight();\n        setTimeout(() => {\n            this.props.onSelectFlight(flight);\n        }, 10);\n        \n\n    }\n\n    render() {\n        let flights = \"\";\n        if (this.props.avFlights !== null) {\n            flights = this.props.avFlights.map((flight, i) => {\n                return <Flight \n                        carrier={flight.carrier}\n                        dCity={flight.dCity}\n                        aCity={flight.aCity}\n                        date={flight.date}\n                        price={flight.price}\n                        key={i}\n                        click={() => this.resetSelectedFlight(flight)}/>\n            })\n        }\n\n\n        return (\n            <div className=\"av-f-c\">\n                <h3>Available Flights</h3>\n                <button className=\"new-flights-btn\" onClick={() => this.refreshFlights()}>Refresh Flights ‚ü≥</button>\n                <ul className=\"category-desc\">\n                        <li>Carrier</li>\n                        <li>Depature City</li>\n                        <li>Arrival City</li>\n                        <li>Date</li>\n                        <li>Price</li>\n                </ul>\n                <div className=\"AvFlightsContainer\">\n                    {flights} \n                </div>\n            </div>\n        )\n    }\n    \n}\n\nconst mapStateToProps = state => {\n    return {\n        avFlights: state.availableFlights,\n        selFlight: state.selectedFlight\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onInitFlights: (flightData) => dispatch({type: actionTypes.INIT_FLIGHTS, flightData}),\n        onSelectFlight: (flight) => dispatch({type: actionTypes.ADD_FLIGHT, flightData: {carrier: flight.carrier, dCity: flight.dCity, aCity: flight.aCity, date: flight.date, price: flight.price} }),\n        onRemoveFlight: () => dispatch({type: actionTypes.REMOVE_FLIGHT})\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AvailableFlights);"]},"metadata":{},"sourceType":"module"}