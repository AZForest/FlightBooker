(this["webpackJsonpflight-booker"]=this["webpackJsonpflight-booker"]||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},40:function(e,t,s){},59:function(e,t,s){},60:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){"use strict";s.r(t);var n=s(0),i=s(1),c=s.n(i),r=s(10),a=s.n(r),l=(s(30),s(6)),o=s(7),h=s(9),d=s(8),p=(s(31),s.p+"static/media/whiteplane1.7eba4a0d.png"),b=function(){return Object(n.jsxs)("div",{className:"TopBar",children:[Object(n.jsx)("h2",{children:"Flight Booker"}),Object(n.jsx)("img",{src:p,alt:"plane"})]})},j=(s(32),s(33),s(4)),u=(s(40),function(e){return Object(n.jsxs)("div",{className:"Flight",onClick:e.click,children:[Object(n.jsx)("p",{children:e.carrier}),Object(n.jsx)("p",{children:e.dCity}),Object(n.jsx)("p",{children:e.aCity}),Object(n.jsx)("p",{children:e.date}),Object(n.jsxs)("p",{children:["$",e.price]})]})}),g="INIT_FLIGHTS",O="ADD_FLIGHT",v="REMOVE_FLIGHT",f="PASSENGER_INCREMENT",m="PASSENGER_DECREMENT",F="BAG_INCREMENT",x="BAG_DECREMENT",y="CARRYON_INCREMENT",C="CARRYON_DECREMENT",k="SET_CLASS",N="UPDATE_PRICE",P="BOOK_FLIGHT",I="REMOVE_BOOKED_FLIGHT",B="INIT_BOOKED_FLGHTS",D=s(5),S=s.n(D),E=(s.p,function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;S.a.get("https://peaceful-hollows-15789.herokuapp.com/availableFlights").then((function(t){e.props.onInitFlights(t)})).catch((function(e){console.log(e)}))}},{key:"refreshFlights",value:function(){var e=this;S.a.get("https://peaceful-hollows-15789.herokuapp.com/refreshFlights").then((function(t){e.props.onInitFlights(t),e.props.onRemoveFlight()})).catch((function(e){console.log(e)}))}},{key:"resetSelectedFlight",value:function(e){var t=this;this.props.onRemoveFlight(),setTimeout((function(){t.props.onSelectFlight(e)}),10)}},{key:"render",value:function(){var e=this,t="";return null!==this.props.avFlights&&(t=this.props.avFlights.map((function(t,s){return Object(n.jsx)(u,{carrier:t.carrier,dCity:t.dCity,aCity:t.aCity,date:t.date,price:t.price,click:function(){return e.resetSelectedFlight(t)}},s)}))),Object(n.jsxs)("div",{className:"av-f-c",children:[Object(n.jsx)("h3",{children:"Available Flights"}),Object(n.jsx)("button",{className:"new-flights-btn",onClick:function(){return e.refreshFlights()},children:"Refresh Flights \u27f3"}),Object(n.jsxs)("ul",{className:"category-desc",children:[Object(n.jsx)("li",{children:"Carrier"}),Object(n.jsx)("li",{children:"Depature City"}),Object(n.jsx)("li",{children:"Arrival City"}),Object(n.jsx)("li",{children:"Date"}),Object(n.jsx)("li",{children:"Price"})]}),Object(n.jsx)("div",{className:"AvFlightsContainer",children:t})]})}}]),s}(c.a.Component)),R=Object(j.b)((function(e){return{avFlights:e.availableFlights,selFlight:e.selectedFlight}}),(function(e){return{onInitFlights:function(t){return e({type:g,flightData:t})},onSelectFlight:function(t){return e({type:O,flightData:{carrier:t.carrier,dCity:t.dCity,aCity:t.aCity,date:t.date,price:t.price}})},onRemoveFlight:function(){return e({type:v})}}}))(E),A=(s(59),s(60),function(e){return Object(n.jsxs)("div",{className:"FlightOptions",children:[Object(n.jsx)("div",{className:"passengers",children:e.passengers}),Object(n.jsx)("div",{className:"bags",children:e.bags}),Object(n.jsx)("div",{className:"carryOn",children:e.carryOn}),Object(n.jsx)("div",{className:"class",children:e.class}),Object(n.jsxs)("div",{className:"price-option",children:["$",e.price]})]})}),T=s.p+"static/media/blackplane1.501c7376.png",V=(s(61),function(e){return Object(n.jsx)("div",{className:"Modal",children:Object(n.jsxs)("div",{className:"Modal-content",children:[e.message,Object(n.jsx)("button",{onClick:e.click,children:"Yes"}),Object(n.jsx)("button",{onClick:e.negativeClick,children:"No"})]})})}),M=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={isClickable:!1,modalVisible:!1,reRender:!1},e.onChangeHandler=function(t){e.props.onSetClass(t.target.value)},e.purchaseFlight=function(){var t={carrier:e.props.sFlight.carrier,dCity:e.props.sFlight.dCity,aCity:e.props.sFlight.aCity,date:e.props.sFlight.date,passengers:e.props.options.passengers,bags:e.props.options.bags,carryOn:e.props.options.carryOn,class:e.props.options.class,price:e.props.totalPrice,id:Math.random()};S.a.post("https://peaceful-hollows-15789.herokuapp.com/BookedFlights",t).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.props.onBookFlight(),S.a.get("https://peaceful-hollows-15789.herokuapp.com/BookedFlights").then((function(t){e.props.onInitBookedFlights(t)})),e.setState({modalVisible:!e.state.modalVisible})},e}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(e){e.sFlight!==this.props.sFlight&&null!==e.sFlight&&null!==this.props.sFlight&&this.resetComponent()}},{key:"resetComponent",value:function(){this.setState({reRender:!this.state.reRender})}},{key:"setModalVisible",value:function(){this.setState({modalVisible:!this.state.modalVisible})}},{key:"render",value:function(){var e=this,t=Object(n.jsx)("div",{className:"selFlight"});null!==this.props.sFlight&&(t=Object(n.jsxs)("div",{className:"selFlight",children:[Object(n.jsx)("div",{children:this.props.sFlight.carrier}),Object(n.jsx)("div",{style:{textTransform:"uppercase"},children:this.props.sFlight.dCity}),Object(n.jsx)("div",{children:"to"}),Object(n.jsx)("div",{style:{textTransform:"uppercase"},children:this.props.sFlight.aCity}),Object(n.jsx)("div",{children:this.props.sFlight.date}),Object(n.jsxs)("div",{children:["$",this.props.sFlight.price]}),Object(n.jsx)("div",{className:"X",onClick:function(){return e.props.onRemoveFlight()},children:"X"})]}));var s="";null!==this.props.sFlight&&(s=Object(n.jsx)(A,{passengers:this.props.options.passengers,bags:this.props.options.bags,carryOn:this.props.options.carryOn,class:this.props.options.class,price:this.props.totalPrice}));var i=Object(n.jsxs)("p",{children:["Book flight to ",null===this.props.sFlight?"":this.props.sFlight.aCity," for $",this.props.totalPrice,"?"]}),c="";this.state.modalVisible&&(c=Object(n.jsx)(V,{message:i,click:function(){return e.purchaseFlight()},negativeClick:function(){return e.setModalVisible()}}));var r=Object(n.jsxs)("div",{className:"selFlight",children:[Object(n.jsx)("h1",{className:"please-select-flight",children:"Please Select Flight"}),Object(n.jsx)("img",{src:T,alt:"pic",className:"img1"})]});return null!==this.props.sFlight&&(r=Object(n.jsxs)("div",{children:[c,Object(n.jsxs)("div",{className:"fade",children:[t,Object(n.jsxs)("div",{className:"controls-container",children:[Object(n.jsx)("div",{className:"passenger-label",children:"Passengers"}),Object(n.jsx)("div",{className:"bag-label",children:"Bags"}),Object(n.jsx)("div",{className:"carry-label",children:"Carry-Ons"}),Object(n.jsx)("div",{className:"class-label",children:"Class"}),Object(n.jsx)("div",{className:"price-label",children:"Price"}),Object(n.jsx)("div",{className:"controls2",children:s}),Object(n.jsxs)("div",{className:"btns-container1 btns-container",children:[Object(n.jsx)("button",{className:"increment-btn",onClick:function(){return e.props.onPassengerIncrement()},disabled:null===this.props.sFlight||this.props.options.passengers<1,children:"+"}),Object(n.jsx)("button",{className:"decrement-btn",onClick:function(){return e.props.onPassengerDecrement()},disabled:null===this.props.sFlight||this.props.options.passengers<=1,children:"-"})]}),Object(n.jsxs)("div",{className:"btns-container2 btns-container",children:[Object(n.jsx)("button",{className:"increment-btn",onClick:function(){return e.props.onBagIncrement()},disabled:null===this.props.sFlight,children:"+"}),Object(n.jsx)("button",{className:"decrement-btn",onClick:function(){return e.props.onBagDecrement()},disabled:null===this.props.sFlight||0===this.props.options.bags,children:"-"})]}),Object(n.jsxs)("div",{className:"btns-container3 btns-container",children:[Object(n.jsx)("button",{className:"increment-btn",onClick:function(){return e.props.onCarryOnIncrement()},disabled:null===this.props.sFlight,children:"+"}),Object(n.jsx)("button",{className:"decrement-btn",onClick:function(){return e.props.onCarryOnDecrement()},disabled:null===this.props.sFlight||0===this.props.options.carryOn,children:"-"})]}),Object(n.jsx)("div",{className:"btns-container btns-container4",children:Object(n.jsxs)("select",{onChange:this.onChangeHandler,children:[Object(n.jsx)("option",{value:"Coach",children:"Coach"}),Object(n.jsx)("option",{value:"Second",children:"Second Class"}),Object(n.jsx)("option",{value:"First",children:"First Class"})]})}),Object(n.jsxs)("p",{className:"additional-passengers",children:["Additional",Object(n.jsx)("br",{})," Passengers:",Object(n.jsx)("br",{}),"Ticket Price x2"]}),Object(n.jsx)("p",{className:"additional-bags",children:"50$/each"}),Object(n.jsx)("p",{className:"additional-carry",children:"30$/each"}),Object(n.jsxs)("div",{className:"class-prices",children:[Object(n.jsx)("p",{children:"Coach: Free"}),Object(n.jsx)("p",{children:"Second Class: $100"}),Object(n.jsx)("p",{children:"First Class: $200"})]})]}),Object(n.jsx)("button",{className:"Bookbtn",onClick:function(){return e.setModalVisible()},children:"Book"})]})]})),Object(n.jsx)("div",{className:"SelectFlightContainer",children:r})}}]),s}(c.a.Component),_=Object(j.b)((function(e){return{sFlight:e.selectedFlight,options:e.options,totalPrice:e.totalPrice,bFlights:e.bookedFlights}}),(function(e){return{onPassengerIncrement:function(){return e({type:f})},onPassengerDecrement:function(){return e({type:m})},onBagIncrement:function(){return e({type:F})},onBagDecrement:function(){return e({type:x})},onCarryOnIncrement:function(){return e({type:y})},onCarryOnDecrement:function(){return e({type:C})},onSetClass:function(t){return e({type:k,val:t})},onRemoveFlight:function(){return e({type:v})},onBookFlight:function(){return e({type:P})},onInitBookedFlights:function(t){return e({type:B,flights:t})}}}))(M),w=(s(62),Object(j.b)((function(e){return{avFlights:e.availableFlights,selFlight:e.selectedFlight}}),(function(e){return{onSelectFLight:function(t,s,n,i,c){return e({type:O,flightData:{carrier:t,dCity:s,aCity:n,date:i,price:c}})},onRemoveFlight:function(){return e({type:v})}}}))((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(R,{}),Object(n.jsx)(_,{})]})}))),G=(s(63),s(64),function(e){return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)("div",{className:"BookedFlight",onClick:e.click,children:[Object(n.jsx)("p",{children:e.carrier}),Object(n.jsx)("p",{children:e.dCity}),Object(n.jsx)("p",{children:e.aCity}),Object(n.jsx)("p",{children:e.date}),Object(n.jsx)("p",{children:e.passengers}),Object(n.jsx)("p",{children:e.bags}),Object(n.jsx)("p",{children:e.carryOn}),Object(n.jsxs)("p",{children:["$",e.totalPrice]}),Object(n.jsx)("div",{className:"bFlight-X",children:"x"})]})})}),L=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={modalVisible:!1,removeId:null},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;S.a.get("https://peaceful-hollows-15789.herokuapp.com/BookedFlights").then((function(t){e.props.onInitBookedFlights(t),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){var e=this;console.log("update"),S.a.get("https://peaceful-hollows-15789.herokuapp.com/BookedFlights").then((function(t){console.log(t.data.length,e.props.bFlights.length),e.props.bFlights.length!==t.data.length&&(console.log("updating..."),e.props.onInitBookedFlights(t))}))}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:!this.state.modalVisible,removeId:e})}},{key:"deleteFlight",value:function(){var e=this;S.a.delete("/BookedFlights",{data:{id:this.state.removeId}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),S.a.get("/BookedFlights").then((function(t){e.props.onInitBookedFlights(t),console.log(t)})).catch((function(e){console.log(e)})),this.setState({modalVisible:!this.state.modalVisible,removeId:null})}},{key:"thirdFunction",value:function(){this.setState({modalVisible:!this.state.modalVisible,removeId:null})}},{key:"render",value:function(){var e=this,t=Object(n.jsx)("p",{children:"Are you sure you want to remove flight?"}),s="";this.state.modalVisible&&(s=Object(n.jsx)(V,{message:t,click:function(){return e.deleteFlight()},negativeClick:function(){return e.thirdFunction()}}));var i="";return"Empty"!==this.props.bFlights&&(i=this.props.bFlights.map((function(t,s){return Object(n.jsx)(G,{carrier:t.carrier,dCity:t.dCity,aCity:t.aCity,date:t.date,passengers:t.passengers,bags:t.bags,carryOn:t.carryOn,totalPrice:t.totalPrice,click:function(){return e.setModalVisible(t.id)}},t.id)}))),Object(n.jsxs)("div",{className:"BookedFlights",children:[s,Object(n.jsx)("h2",{children:"Booked Flights"}),Object(n.jsxs)("div",{className:"bookedflights-list",children:[Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Carrier"}),Object(n.jsx)("li",{children:"Departure"}),Object(n.jsx)("li",{children:"Arrival"}),Object(n.jsx)("li",{children:"Date"}),Object(n.jsx)("li",{children:"Passengers"}),Object(n.jsx)("li",{children:"Bags"}),Object(n.jsx)("li",{children:"Carry-Ons"}),Object(n.jsx)("li",{children:"Price"})]}),Object(n.jsx)("br",{}),i]})]})}}]),s}(c.a.Component),$=Object(j.b)((function(e){return{bFlights:e.bookedFlights}}),(function(e){return{onRemoveFlight:function(t){return e({type:I,removeId:t})},onInitBookedFlights:function(t){return e({type:B,flights:t})}}}))(L),H=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(b,{}),Object(n.jsx)(w,{}),Object(n.jsx)("hr",{}),Object(n.jsx)($,{})]})}}]),s}(c.a.Component),K=Object(j.b)((function(e){return{avFlights:e.availableFlights,interDelVal:e.intermediateDelVal}}),(function(e){return{onInitFlights:function(t){return e({type:g,flights:t})},onRemoveFlight:function(t){return e({type:I,removeId:t})}}}))(H),U=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,66)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),i(e),c(e),r(e)}))},X=s(11),Y=s(2),J={availableFlights:null,selectedFlight:null,options:{passengers:1,bags:0,carryOn:0,class:"coach"},classPriceAdded:!1,totalPrice:0,bookedFlights:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(Y.a)(Object(Y.a)({},e),{},{availableFlights:t.flightData.data});case O:var s={carrier:t.flightData.carrier,dCity:t.flightData.dCity,aCity:t.flightData.aCity,date:t.flightData.date,price:t.flightData.price};return Object(Y.a)(Object(Y.a)({},e),{},{selectedFlight:s,options:{passengers:1,bags:0,carryOn:0,class:"Coach"},classPriceAdded:!1,totalPrice:t.flightData.price});case v:return console.log("Removed"),Object(Y.a)(Object(Y.a)({},e),{},{selectedFlight:null,options:{passengers:1,bags:0,carryOn:0,class:"Coach"},classPriceAdded:!1,totalPrice:0});case f:var n=Object.values(e.options);n[0]+=1;var i=e.totalPrice;return i+=e.selectedFlight.price,Object(Y.a)(Object(Y.a)({},e),{},{options:{passengers:n[0],bags:n[1],carryOn:n[2],class:n[3]},totalPrice:i});case m:var c=Object.values(e.options);c[0]>0&&(c[0]-=1);var r=e.totalPrice;return r-=e.selectedFlight.price,Object(Y.a)(Object(Y.a)({},e),{},{options:{passengers:c[0],bags:c[1],carryOn:c[2],class:c[3]},totalPrice:r});case F:var a=Object.values(e.options);return a[1]+=1,Object(Y.a)(Object(Y.a)({},e),{},{options:{passengers:a[0],bags:a[1],carryOn:a[2],class:a[3]},totalPrice:e.totalPrice+50});case x:var l=Object.values(e.options);return l[1]>0&&(l[1]-=1),Object(Y.a)(Object(Y.a)({},e),{},{options:{passengers:l[0],bags:l[1],carryOn:l[2],class:l[3]},totalPrice:e.totalPrice-50});case y:var o=Object.values(e.options);return o[2]+=1,Object(Y.a)(Object(Y.a)({},e),{},{options:{passengers:o[0],bags:o[1],carryOn:o[2],class:o[3]},totalPrice:e.totalPrice+30});case C:var h=Object.values(e.options);return h[2]>0&&(h[2]-=1),Object(Y.a)(Object(Y.a)({},e),{},{options:{passengers:h[0],bags:h[1],carryOn:h[2],class:h[3]},totalPrice:e.totalPrice-30});case k:var d=Object.values(e.options),p=0;if(e.classPriceAdded){var b=t.val;"Coach"===b&&("Second"===e.options.class?p-=100:p-=200),"Second"===b&&("Coach"===e.options.class?p+=100:p-=100),"First"===b&&("Coach"===e.options.class?p+=200:p+=100)}else"First"===t.val?p=200:"Second"===t.val&&(p=100);return Object(Y.a)(Object(Y.a)({},e),{},{options:{passengers:d[0],bags:d[1],carryOn:d[2],class:t.val},classPriceAdded:!0,totalPrice:e.totalPrice+p*d[0]});case N:var j=e.totalPrice;return j+=t.value,Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:j});case P:return Object(Y.a)(Object(Y.a)({},e),{},{selectedFlight:null,options:{passengers:1,bags:0,carryOn:0,class:"coach"},classPriceAdded:!1,totalPrice:0});case I:return Object(Y.a)(Object(Y.a)({},e),{},{bookedFlights:e.bookedFlights.filter((function(e){return e.id!==t.removeId}))});case B:return Object(Y.a)(Object(Y.a)({},e),{},{bookedFlights:t.flights.data})}return e},z=Object(X.b)(q);a.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(j.a,{store:z,children:Object(n.jsx)(K,{})})}),document.getElementById("root")),U()}},[[65,1,2]]]);
//# sourceMappingURL=main.5ff16faf.chunk.js.map