(this["webpackJsonpflight-booker"]=this["webpackJsonpflight-booker"]||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},40:function(e,t,s){},59:function(e,t,s){},60:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){"use strict";s.r(t);var n=s(0),i=s(1),c=s.n(i),r=s(10),l=s.n(r),a=(s(30),s(6)),o=s(7),h=s(9),p=s(8),d=(s(31),s.p+"static/media/whiteplane1.7eba4a0d.png"),u=function(){return Object(n.jsxs)("div",{className:"TopBar",children:[Object(n.jsx)("h2",{children:"Flight Booker"}),Object(n.jsx)("img",{src:d,alt:"plane"})]})},b=(s(32),s(33),s(4)),j=(s(40),function(e){return Object(n.jsxs)("div",{className:"Flight",onClick:e.click,children:[Object(n.jsx)("p",{children:e.carrier}),Object(n.jsx)("p",{children:e.dCity}),Object(n.jsx)("p",{children:e.aCity}),Object(n.jsx)("p",{children:e.date}),Object(n.jsxs)("p",{children:["$",e.price]})]})}),g="INIT_FLIGHTS",O="ADD_FLIGHT",f="REMOVE_FLIGHT",v="PASSENGER_INCREMENT",m="PASSENGER_DECREMENT",F="BAG_INCREMENT",x="BAG_DECREMENT",y="CARRYON_INCREMENT",C="CARRYON_DECREMENT",k="SET_CLASS",N="UPDATE_PRICE",P="BOOK_FLIGHT",I="REMOVE_BOOKED_FLIGHT",B="INIT_BOOKED_FLGHTS",D=s(5),S=s.n(D),E=(s.p,function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;S.a.get("https://peaceful-hollows-15789.herokuapp.com/availableFlights").then((function(t){e.props.onInitFlights(t)})).catch((function(e){console.log(e)}))}},{key:"refreshFlights",value:function(){var e=this;S.a.get("https://peaceful-hollows-15789.herokuapp.com/refreshFlights").then((function(t){e.props.onInitFlights(t),e.props.onRemoveFlight()})).catch((function(e){console.log(e)}))}},{key:"resetSelectedFlight",value:function(e){var t=this;this.props.onRemoveFlight(),setTimeout((function(){t.props.onSelectFlight(e)}),10)}},{key:"render",value:function(){var e=this,t="";return null!==this.props.avFlights&&(t=this.props.avFlights.map((function(t,s){return Object(n.jsx)(j,{carrier:t.carrier,dCity:t.dCity,aCity:t.aCity,date:t.date,price:t.price,click:function(){return e.resetSelectedFlight(t)}},s)}))),Object(n.jsxs)("div",{className:"av-f-c",children:[Object(n.jsxs)("div",{className:"top-div",children:[Object(n.jsx)("h3",{children:"Available Flights"}),Object(n.jsx)("button",{className:"new-flights-btn",onClick:function(){return e.refreshFlights()},children:"Refresh Flights \u27f3"})]}),Object(n.jsxs)("ul",{className:"category-desc",children:[Object(n.jsx)("li",{children:"Carrier"}),Object(n.jsx)("li",{children:"Depature City"}),Object(n.jsx)("li",{children:"Arrival City"}),Object(n.jsx)("li",{children:"Date"}),Object(n.jsx)("li",{children:"Price"})]}),Object(n.jsx)("div",{className:"AvFlightsContainer",children:t})]})}}]),s}(c.a.Component)),V=Object(b.b)((function(e){return{avFlights:e.availableFlights,selFlight:e.selectedFlight}}),(function(e){return{onInitFlights:function(t){return e({type:g,flightData:t})},onSelectFlight:function(t){return e({type:O,flightData:{carrier:t.carrier,dCity:t.dCity,aCity:t.aCity,date:t.date,price:t.price}})},onRemoveFlight:function(){return e({type:f})}}}))(E),R=(s(59),s(60),s.p+"static/media/blackplane1.501c7376.png"),A=(s(61),function(e){return Object(n.jsx)("div",{className:"Modal",children:Object(n.jsxs)("div",{className:"Modal-content",children:[e.message,Object(n.jsx)("button",{onClick:e.click,children:"Yes"}),Object(n.jsx)("button",{onClick:e.negativeClick,children:"No"})]})})}),T=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={isClickable:!1,modalVisible:!1,reRender:!1},e.onChangeHandler=function(t){e.props.onSetClass(t.target.value)},e.purchaseFlight=function(){var t={carrier:e.props.sFlight.carrier,dCity:e.props.sFlight.dCity,aCity:e.props.sFlight.aCity,date:e.props.sFlight.date,passengers:e.props.options.passengers,bags:e.props.options.bags,carryOn:e.props.options.carryOn,class:e.props.options.class,price:e.props.totalPrice,id:Math.random()};S.a.post("https://peaceful-hollows-15789.herokuapp.com/BookedFlights",t).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),e.props.onBookFlight(),S.a.get("https://peaceful-hollows-15789.herokuapp.com/BookedFlights").then((function(t){e.props.onInitBookedFlights(t)})),e.setState({modalVisible:!e.state.modalVisible})},e}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(e){e.sFlight!==this.props.sFlight&&null!==e.sFlight&&null!==this.props.sFlight&&this.resetComponent()}},{key:"resetComponent",value:function(){this.setState({reRender:!this.state.reRender})}},{key:"setModalVisible",value:function(){this.setState({modalVisible:!this.state.modalVisible})}},{key:"render",value:function(){var e=this,t=Object(n.jsx)("div",{className:"selFlight"});null!==this.props.sFlight&&(t=Object(n.jsxs)("div",{className:"selFlight",children:[Object(n.jsxs)("div",{className:"selFlight-info",children:[Object(n.jsx)("p",{children:this.props.sFlight.carrier}),Object(n.jsx)("p",{style:{textTransform:"uppercase"},children:this.props.sFlight.dCity}),Object(n.jsx)("p",{children:"to"}),Object(n.jsx)("p",{style:{textTransform:"uppercase"},children:this.props.sFlight.aCity}),Object(n.jsx)("p",{children:this.props.sFlight.date}),Object(n.jsxs)("p",{children:["$",this.props.sFlight.price]})]}),Object(n.jsx)("div",{className:"X",onClick:function(){return e.props.onRemoveFlight()},children:"X"})]}));null!==this.props.sFlight&&(this.props.options.passengers,this.props.options.bags,this.props.options.carryOn,this.props.options.class,this.props.totalPrice);var s=Object(n.jsxs)("p",{children:["Book flight to ",null===this.props.sFlight?"":this.props.sFlight.aCity," for $",this.props.totalPrice,"?"]}),i="";this.state.modalVisible&&(i=Object(n.jsx)(A,{message:s,click:function(){return e.purchaseFlight()},negativeClick:function(){return e.setModalVisible()}}));var c=Object(n.jsxs)("div",{className:"selFlight",style:{height:"20px"},children:[Object(n.jsx)("h1",{className:"please-select-flight",children:"Please Select Flight"}),Object(n.jsx)("img",{src:R,alt:"pic",className:"img1"})]});return null!==this.props.sFlight&&(c=Object(n.jsxs)("div",{children:[i,Object(n.jsxs)("div",{className:"fade",children:[t,Object(n.jsxs)("div",{className:"controls-container",children:[Object(n.jsxs)("div",{className:"c-control",children:[Object(n.jsx)("p",{className:"c-control-label",children:"Passengers"}),Object(n.jsx)("div",{className:"flightValue",children:this.props.sFlight?this.props.options.passengers:""}),Object(n.jsxs)("div",{className:"btns-container1 btns-container",children:[Object(n.jsx)("button",{className:"increment-btn",onClick:function(){return e.props.onPassengerIncrement()},disabled:null===this.props.sFlight||this.props.options.passengers<1,children:"+"}),Object(n.jsx)("button",{className:"decrement-btn",onClick:function(){return e.props.onPassengerDecrement()},disabled:null===this.props.sFlight||this.props.options.passengers<=1,children:"-"})]}),Object(n.jsxs)("p",{className:"c-control-info",children:["Additional",Object(n.jsx)("br",{})," Passengers:",Object(n.jsx)("br",{}),"Ticket Price x2"]})]}),Object(n.jsxs)("div",{className:"c-control",children:[Object(n.jsx)("p",{className:"c-control-label",children:"Bags"}),Object(n.jsx)("div",{className:"flightValue",children:this.props.sFlight?this.props.options.bags:""}),Object(n.jsxs)("div",{className:"btns-container2 btns-container",children:[Object(n.jsx)("button",{className:"increment-btn",onClick:function(){return e.props.onBagIncrement()},disabled:null===this.props.sFlight,children:"+"}),Object(n.jsx)("button",{className:"decrement-btn",onClick:function(){return e.props.onBagDecrement()},disabled:null===this.props.sFlight||0===this.props.options.bags,children:"-"})]}),Object(n.jsx)("p",{className:"c-control-info",children:"50$/each"})]}),Object(n.jsxs)("div",{className:"c-control",children:[Object(n.jsx)("p",{className:"c-control-label",children:"Carry-Ons"}),Object(n.jsx)("div",{className:"flightValue",children:this.props.sFlight?this.props.options.carryOn:""}),Object(n.jsxs)("div",{className:"btns-container3 btns-container",children:[Object(n.jsx)("button",{className:"increment-btn",onClick:function(){return e.props.onCarryOnIncrement()},disabled:null===this.props.sFlight,children:"+"}),Object(n.jsx)("button",{className:"decrement-btn",onClick:function(){return e.props.onCarryOnDecrement()},disabled:null===this.props.sFlight||0===this.props.options.carryOn,children:"-"})]}),Object(n.jsx)("p",{className:"c-control-info",children:"30$/each"})]}),Object(n.jsxs)("div",{className:"c-control",children:[Object(n.jsx)("p",{className:"c-control-label",children:"Class"}),Object(n.jsx)("div",{className:"flightValue",children:this.props.sFlight?this.props.options.class:""}),Object(n.jsx)("div",{className:"btns-container btns-container4",children:Object(n.jsxs)("select",{onChange:this.onChangeHandler,children:[Object(n.jsx)("option",{value:"Coach",children:"Coach"}),Object(n.jsx)("option",{value:"Second",children:"Second Class"}),Object(n.jsx)("option",{value:"First",children:"First Class"})]})}),Object(n.jsxs)("div",{className:"c-control-info class-prices",children:[Object(n.jsx)("p",{children:"Coach: Free"}),Object(n.jsx)("p",{children:"Second Class: $100"}),Object(n.jsx)("p",{children:"First Class: $200"})]})]}),Object(n.jsxs)("div",{className:"c-control",children:[Object(n.jsx)("p",{className:"c-control-label",children:"Price"}),Object(n.jsx)("div",{className:"flightValue priceValue",children:this.props.sFlight?"$"+this.props.totalPrice:""})]})]}),Object(n.jsx)("button",{className:"Bookbtn",onClick:function(){return e.setModalVisible()},children:"Book"})]})]})),Object(n.jsx)("div",{className:"SelectFlightContainer",style:this.props.sFlight?{height:"auto"}:{height:"350px"},children:c})}}]),s}(c.a.Component),M=Object(b.b)((function(e){return{sFlight:e.selectedFlight,options:e.options,totalPrice:e.totalPrice,bFlights:e.bookedFlights}}),(function(e){return{onPassengerIncrement:function(){return e({type:v})},onPassengerDecrement:function(){return e({type:m})},onBagIncrement:function(){return e({type:F})},onBagDecrement:function(){return e({type:x})},onCarryOnIncrement:function(){return e({type:y})},onCarryOnDecrement:function(){return e({type:C})},onSetClass:function(t){return e({type:k,val:t})},onRemoveFlight:function(){return e({type:f})},onBookFlight:function(){return e({type:P})},onInitBookedFlights:function(t){return e({type:B,flights:t})}}}))(T),w=(s(62),Object(b.b)((function(e){return{avFlights:e.availableFlights,selFlight:e.selectedFlight}}),(function(e){return{onSelectFLight:function(t,s,n,i,c){return e({type:O,flightData:{carrier:t,dCity:s,aCity:n,date:i,price:c}})},onRemoveFlight:function(){return e({type:f})}}}))((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(V,{}),Object(n.jsx)(M,{})]})}))),_=(s(63),s(64),function(e){return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)("div",{className:"BookedFlight",onClick:e.click,children:[Object(n.jsx)("p",{className:"BookedFlight-carrier",children:e.carrier}),Object(n.jsxs)("p",{children:["Departure: ",e.dCity]}),Object(n.jsxs)("p",{children:["Arrival: ",e.aCity]}),Object(n.jsxs)("p",{children:["Date: ",e.date]}),Object(n.jsxs)("p",{children:["Passengers: ",e.passengers]}),Object(n.jsxs)("p",{children:["Bags: ",e.bags]}),Object(n.jsxs)("p",{children:["Carry-Ons: ",e.carryOn]}),Object(n.jsxs)("p",{children:["Price: $",e.totalPrice]}),Object(n.jsx)("div",{className:"bFlight-X",children:"x"})]})})}),G=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={modalVisible:!1,removeId:null},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;S.a.get("https://peaceful-hollows-15789.herokuapp.com/BookedFlights").then((function(t){e.props.onInitBookedFlights(t),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(){var e=this;console.log("update"),S.a.get("https://peaceful-hollows-15789.herokuapp.com/BookedFlights").then((function(t){console.log(t.data.length,e.props.bFlights.length),e.props.bFlights.length!==t.data.length&&(console.log("updating..."),e.props.onInitBookedFlights(t))}))}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:!this.state.modalVisible,removeId:e})}},{key:"deleteFlight",value:function(){var e=this;S.a.delete("https://peaceful-hollows-15789.herokuapp.com/BookedFlights",{data:{id:this.state.removeId}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),S.a.get("https://peaceful-hollows-15789.herokuapp.com/BookedFlights").then((function(t){e.props.onInitBookedFlights(t),console.log(t)})).catch((function(e){console.log(e)})),this.setState({modalVisible:!this.state.modalVisible,removeId:null})}},{key:"thirdFunction",value:function(){this.setState({modalVisible:!this.state.modalVisible,removeId:null})}},{key:"render",value:function(){var e=this,t=Object(n.jsx)("p",{children:"Are you sure you want to remove flight?"}),s="";this.state.modalVisible&&(s=Object(n.jsx)(A,{message:t,click:function(){return e.deleteFlight()},negativeClick:function(){return e.thirdFunction()}}));var i="";return"Empty"!==this.props.bFlights&&(i=this.props.bFlights.map((function(t,s){return Object(n.jsx)(_,{carrier:t.carrier,dCity:t.dCity,aCity:t.aCity,date:t.date,passengers:t.passengers,bags:t.bags,carryOn:t.carryOn,totalPrice:t.totalPrice,click:function(){return e.setModalVisible(t.id)}},t.id)}))),Object(n.jsxs)("div",{className:"BookedFlights",children:[s,Object(n.jsx)("h1",{children:"Booked Flights"}),Object(n.jsx)("div",{style:{paddingTop:"55px",paddingBottom:"10px"},children:i})]})}}]),s}(c.a.Component),L=Object(b.b)((function(e){return{bFlights:e.bookedFlights}}),(function(e){return{onRemoveFlight:function(t){return e({type:I,removeId:t})},onInitBookedFlights:function(t){return e({type:B,flights:t})}}}))(G),$=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(u,{}),Object(n.jsx)(w,{}),Object(n.jsx)("hr",{}),Object(n.jsx)(L,{})]})}}]),s}(c.a.Component),H=Object(b.b)((function(e){return{avFlights:e.availableFlights,interDelVal:e.intermediateDelVal}}),(function(e){return{onInitFlights:function(t){return e({type:g,flights:t})},onRemoveFlight:function(t){return e({type:I,removeId:t})}}}))($),K=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,66)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),i(e),c(e),r(e)}))},U=s(11),X=s(2),Y={availableFlights:null,selectedFlight:null,options:{passengers:1,bags:0,carryOn:0,class:"coach"},classPriceAdded:!1,totalPrice:0,bookedFlights:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(X.a)(Object(X.a)({},e),{},{availableFlights:t.flightData.data});case O:var s={carrier:t.flightData.carrier,dCity:t.flightData.dCity,aCity:t.flightData.aCity,date:t.flightData.date,price:t.flightData.price};return Object(X.a)(Object(X.a)({},e),{},{selectedFlight:s,options:{passengers:1,bags:0,carryOn:0,class:"Coach"},classPriceAdded:!1,totalPrice:t.flightData.price});case f:return console.log("Removed"),Object(X.a)(Object(X.a)({},e),{},{selectedFlight:null,options:{passengers:1,bags:0,carryOn:0,class:"Coach"},classPriceAdded:!1,totalPrice:0});case v:var n=Object.values(e.options);n[0]+=1;var i=e.totalPrice;return i+=e.selectedFlight.price,Object(X.a)(Object(X.a)({},e),{},{options:{passengers:n[0],bags:n[1],carryOn:n[2],class:n[3]},totalPrice:i});case m:var c=Object.values(e.options);c[0]>0&&(c[0]-=1);var r=e.totalPrice;return r-=e.selectedFlight.price,Object(X.a)(Object(X.a)({},e),{},{options:{passengers:c[0],bags:c[1],carryOn:c[2],class:c[3]},totalPrice:r});case F:var l=Object.values(e.options);return l[1]+=1,Object(X.a)(Object(X.a)({},e),{},{options:{passengers:l[0],bags:l[1],carryOn:l[2],class:l[3]},totalPrice:e.totalPrice+50});case x:var a=Object.values(e.options);return a[1]>0&&(a[1]-=1),Object(X.a)(Object(X.a)({},e),{},{options:{passengers:a[0],bags:a[1],carryOn:a[2],class:a[3]},totalPrice:e.totalPrice-50});case y:var o=Object.values(e.options);return o[2]+=1,Object(X.a)(Object(X.a)({},e),{},{options:{passengers:o[0],bags:o[1],carryOn:o[2],class:o[3]},totalPrice:e.totalPrice+30});case C:var h=Object.values(e.options);return h[2]>0&&(h[2]-=1),Object(X.a)(Object(X.a)({},e),{},{options:{passengers:h[0],bags:h[1],carryOn:h[2],class:h[3]},totalPrice:e.totalPrice-30});case k:var p=Object.values(e.options),d=0;if(e.classPriceAdded){var u=t.val;"Coach"===u&&("Second"===e.options.class?d-=100:d-=200),"Second"===u&&("Coach"===e.options.class?d+=100:d-=100),"First"===u&&("Coach"===e.options.class?d+=200:d+=100)}else"First"===t.val?d=200:"Second"===t.val&&(d=100);return Object(X.a)(Object(X.a)({},e),{},{options:{passengers:p[0],bags:p[1],carryOn:p[2],class:t.val},classPriceAdded:!0,totalPrice:e.totalPrice+d*p[0]});case N:var b=e.totalPrice;return b+=t.value,Object(X.a)(Object(X.a)({},e),{},{totalPrice:b});case P:return Object(X.a)(Object(X.a)({},e),{},{selectedFlight:null,options:{passengers:1,bags:0,carryOn:0,class:"coach"},classPriceAdded:!1,totalPrice:0});case I:return Object(X.a)(Object(X.a)({},e),{},{bookedFlights:e.bookedFlights.filter((function(e){return e.id!==t.removeId}))});case B:return Object(X.a)(Object(X.a)({},e),{},{bookedFlights:t.flights.data})}return e},q=Object(U.b)(J);l.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(b.a,{store:q,children:Object(n.jsx)(H,{})})}),document.getElementById("root")),K()}},[[65,1,2]]]);
//# sourceMappingURL=main.59f52990.chunk.js.map